{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Number.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilter","value","onChange","PersonForm","newName","handleChange","newNumber","handleChanges","addPerson","className","type","onClick","Number","person","name","number","Persons","persons","buttonHandler","filter","toLowerCase","includes","map","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","success","App","useState","setPersons","useEffect","personsServices","console","log","setNewName","setNewNumber","setNewFilter","notiMessage","setNotiMessage","setSuccess","timeOut","event","target","preventDefault","length","window","confirm","newId","find","concat","setTimeout","catch","error","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ae4b38a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newFilter, handleFilter}) =>(\r\n    <div>\r\n        filter shown with <input value={newFilter} onChange={handleFilter}/>\r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, handleChange, newNumber, handleChanges, addPerson}) => (\r\n<div className=\"PersonForm\">\r\n    <form>\r\n    <div>\r\n      name: <input value={newName} onChange={handleChange}/>\r\n    </div>\r\n    </form>\r\n    <form>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleChanges}/>\r\n        </div>\r\n    </form>\r\n    <div>\r\n          <button type=\"submit\" onClick={addPerson}>add</button>\r\n    </div>\r\n</div>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Number = ({person}) => {\r\n    return (\r\n        <>\r\n        {person.name} {person.number}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Number","import React from 'react'\r\nimport Number from './Number'\r\n\r\nconst Persons =  ({persons,newFilter, buttonHandler}) => (\r\n<div>\r\n{persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    .map(person => \r\n        <div key={person.name}>\r\n            <Number person={person}/> <button onClick={() => {\r\n                buttonHandler(person.id)\r\n            } }> delete </button>\r\n            <br/>\r\n        </div>\r\n)\r\n}\r\n</div>\r\n)\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const response = axios.get(baseUrl);\r\n    return response.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const response = axios.post(baseUrl, newObject);\r\n    return response.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const response = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return response.then(response => response.data)\r\n}\r\n\r\nconst adelete = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`);\r\n}\r\n\r\nexport default {getAll, create, update, adelete}","import React from 'react'\r\n\r\nconst Notification = ({message, success}) => {\r\n    if (message === null){\r\n        return null\r\n    }\r\n\r\n    if (success){\r\n        return (\r\n            <div className='success'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"fail\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsServices from './services/persons.js'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    personsServices\r\n      .getAll()\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response)\r\n      })\r\n  }, []\r\n  )\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ notiMessage, setNotiMessage ] = useState(null)\r\n  const [ success, setSuccess] = useState(false);\r\n  let timeOut = 1000;\r\n\r\n  const handleChange = (event) => { //handles change in input box and updates newName to it.\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleChanges = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) =>{\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    let result = window.confirm(`Delete ${persons.find(person => person.id === id).name}`)\r\n    if (!result){\r\n      return;\r\n    }\r\n      personsServices\r\n      .adelete(id)\r\n      .then(response => {\r\n        console.log('success')\r\n        setSuccess(true)\r\n        setPersons(persons.filter(persons => persons.id !== id))\r\n        setNotiMessage(`${persons.find(person => person.id === id).name}'s number has been deleted successfully`)\r\n        setTimeout(() => {\r\n          setNotiMessage(null)\r\n        }, timeOut);\r\n      })\r\n      .catch(error => {\r\n        setSuccess(false);\r\n        setNotiMessage(\r\n          `${persons.find(person => person.id === id).name}'s number has already been deleted.`\r\n        )\r\n        setTimeout(() => {\r\n          setNotiMessage(null)\r\n        }, timeOut);\r\n        setPersons(persons.filter(n => n.id !== id))\r\n      })\r\n\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if (persons.filter(person => person.name === newName).length > 0){\r\n      let result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\r\n      if (!result){\r\n        return;\r\n      }\r\n      \r\n      let newId = persons.find(person => person.name === newName).id;\r\n\r\n      const newPerson = {\r\n        name: newName,\r\n        id: newId,\r\n        number: newNumber\r\n      }\r\n\r\n      personsServices\r\n      .update(newId, newPerson)\r\n      .then(response => {\r\n        setPersons(persons.filter(person => person.name !== newName).concat(response))\r\n        setSuccess(true);\r\n        setNotiMessage(`${newName}'s number has been successfully changed`);\r\n        setTimeout(() => {\r\n          setNotiMessage(null);\r\n        }, timeOut)\r\n      }\r\n      )\r\n      return;\r\n    }\r\n\r\n    const addedPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    personsServices\r\n      .create( addedPerson)\r\n      .then(response => {\r\n        setPersons(persons.concat(response))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setSuccess(true);\r\n        setNotiMessage(`${newName}'s number has been successfully added`);\r\n        setTimeout(() => {\r\n          setNotiMessage(null);\r\n        }, timeOut)\r\n      })\r\n    console.log('button clicked', event.target)\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={notiMessage} success={success}/>\r\n      <div className=\"body\">\r\n        <div className=\"phone\">\r\n          <h2>PHONEBOOK</h2>\r\n          <Filter newFilter={newFilter} handleFilter={handleFilter}/>\r\n        </div>\r\n\r\n        <h2>ADD A NEW</h2>\r\n        <PersonForm newName={newName} handleChange={handleChange} newNumber={newNumber} handleChanges={handleChanges} addPerson={addPerson}/>\r\n        \r\n        <h2>NUMBERS</h2>\r\n        <Persons persons={persons} newFilter={newFilter} buttonHandler={handleDelete}/>\r\n      </div> \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}